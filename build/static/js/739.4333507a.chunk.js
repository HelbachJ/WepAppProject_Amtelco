"use strict";(self.webpackChunkreact_complete_guide=self.webpackChunkreact_complete_guide||[]).push([[739],{867:function(e,t,n){n.d(t,{Z:function(){return s}});var r="Card1_card__+QkD+",a=n(184),s=function(e){return(0,a.jsx)("div",{className:r,children:e.children})}},739:function(e,t,n){n.r(t),n.d(t,{default:function(){return R}});var r=n(791),a=n(271),s=n(508),i=n(32),c=n(890),l=n(117),u=n(556),d=n(867),o="UpdateForm_form__MZHwP",p="UpdateForm_loading__ADBJe",m="UpdateForm_control__1do-H",f="UpdateForm_actions__ihx9c",h=n(184),x=function(e){var t=(0,r.useRef)(),n=(0,r.useRef)(),x=(0,r.useRef)(),v=(0,r.useRef)(),j=(0,r.useRef)(),w=(0,r.useState)(!1),_=(0,c.Z)(w,2),g=_[0],y=_[1];function R(){return(R=(0,i.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y(!1);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,h.jsxs)(l.Fragment,{children:[(0,h.jsx)(a.NL,{when:g,message:function(e){return"Are you sure you want to leave? All entered data will be lost"}}),(0,h.jsx)(d.Z,{children:(0,h.jsxs)("form",{onFocus:function(){y(!0)},className:o,onSubmit:function(r){r.preventDefault();var a=t.current.value,s=n.current.value,i=x.current.value,c=v.current.value,l=j.current.value,u=Date().toLocaleString(),d=e.id,o=e.uid,p="Edited "+u;e.onUpdateAppointment({localId:o,id:d,name:i,startTime:a,endTime:s,description:c,date:l,updatedTime:p})},children:[e.isLoading&&(0,h.jsx)("div",{className:p,children:(0,h.jsx)(u.Z,{})}),(0,h.jsxs)("div",{className:m,children:[(0,h.jsx)("label",{htmlFor:"new-date",children:"Start Time"}),(0,h.jsx)("input",{type:"date",id:"new-date",ref:j})]}),(0,h.jsxs)("div",{className:m,children:[(0,h.jsx)("label",{htmlFor:"new-startTime",children:"Start Time"}),(0,h.jsx)("input",{type:"time",id:"new-startTime",ref:t})]}),(0,h.jsxs)("div",{className:m,children:[(0,h.jsx)("label",{htmlFor:"new-endTime",children:"End Time"}),(0,h.jsx)("input",{type:"time",id:"new-endTime",ref:n})]}),(0,h.jsxs)("div",{className:m,children:[(0,h.jsx)("label",{htmlFor:"new-name",children:"Name"}),(0,h.jsx)("input",{type:"text",id:"new-name",ref:x})]}),(0,h.jsxs)("div",{className:m,children:[(0,h.jsx)("label",{htmlFor:"new-description",children:"Description"}),(0,h.jsx)("input",{type:"text",id:"new-description",ref:v})]}),(0,h.jsx)("div",{className:f,children:(0,h.jsx)("button",{onClick:function(){return R.apply(this,arguments)},className:"btn",children:"Edit Appointment"})})]})})]})},v=n(995),j=n(515);function w(e,t){return"SEND"===t.type?{data:null,error:null,state:"pending"}:"SUCCESS"===t.type?{data:t.responseData,error:null,state:"completed"}:"ERROR"===t.type?{data:null,error:t.errorMessage,state:"completed"}:e}var _=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,r.useReducer)(w,{state:t?"pending":null,data:null,error:null}),a=(0,c.Z)(n,2),l=a[0],u=a[1],d=(0,r.useCallback)(function(){var t=(0,i.Z)((0,s.Z)().mark((function t(n){var r;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u({type:"SEND"}),t.prev=1,t.next=4,e(n);case 4:r=t.sent,u({type:"SUCCESS",responseData:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),u({type:"ERROR",errorMessage:t.t0.message||"Something went wrong!"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),[e]);return(0,j.Z)({sendRequests:d},l)},g=n(853),y=n(654);var R=function(e){var t=(0,r.useContext)(y.Z),n=(0,a.UO)(),s=(0,a.k6)(),i=n.appointmentId,c=n.userId,l=_(g.fK,!0),u=l.sendRequests,d=l.state,o=(0,v.Z)(g.x8),p=o.sendRequest,m=o.status;return(0,r.useEffect)((function(){"completed"===m&&"completed"===d&&s.replace("/appointments/".concat(t.localId))}),[m,d,s,t.localId]),(0,r.useEffect)((function(){u(i)}),[u,i]),(0,h.jsx)(x,{isLoading:"pending"===m,onUpdateAppointment:function(e){p(e)},id:i,uid:c})}}}]);
//# sourceMappingURL=739.4333507a.chunk.js.map